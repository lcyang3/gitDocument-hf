!function(e,t){function r(){var r=d.getBoundingClientRect().width;t||(t=540),r>t&&(r=t);var n=100*r/e;if(o="html{font-size:"+n+"px !important}",a=document.getElementById("rootsize")||document.createElement("style"),document.getElementById("rootsize")||(document.getElementsByTagName("head")[0].appendChild(a),a.id="rootsize"),a.styleSheet)a.styleSheet.disabled||(a.styleSheet.cssText=o);else try{a.innerHTML=o}catch(e){a.innerText=o}d.style.fontSize=n+"px"}var n,a,o,i=document,s=window,d=i.documentElement;r(),s.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(r,300)},!1),s.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(n),n=setTimeout(r,300))},!1),"complete"===i.readyState?i.body.style.fontSize="16px":i.addEventListener("DOMContentLoaded",function(e){i.body.style.fontSize="16px"},!1)}(720,1500);var tools={formatTime:function(e,t){var r=this,n=e;return t.replace(/"[^"]*"|'[^']*'|\b(?:d{1,4}|m{1,4}|yy(?:yy)?|([hHMstT])\1?|[lLZ])\b/g,function(e){switch(e){case"d":return n.getDate();case"dd":return r.zeroize(n.getDate());case"ddd":return["Sun","Mon","Tue","Wed","Thr","Fri","Sat"][n.getDay()];case"dddd":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()];case"ddCh":return["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][n.getDay()];case"M":return n.getMonth()+1;case"MM":return r.zeroize(n.getMonth()+1);case"MMM":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()];case"MMMM":return["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()];case"yy":return String(n.getFullYear()).substr(2);case"yyyy":return n.getFullYear();case"h":return n.getHours()%12||12;case"hh":return r.zeroize(n.getHours()%12||12);case"H":return n.getHours();case"HH":return r.zeroize(n.getHours());case"m":return n.getMinutes();case"mm":return r.zeroize(n.getMinutes());case"s":return n.getSeconds();case"ss":return r.zeroize(n.getSeconds());case"l":return r.zeroize(n.getMilliseconds(),3);case"L":var t=n.getMilliseconds();return t>99&&(t=Math.round(t/10)),r.zeroize(t);case"tt":return n.getHours()<12?"am":"pm";case"TT":return n.getHours()<12?"AM":"PM";case"Z":return n.toUTCString().match(/[A-Z]+$/);default:return e.substr(1,e.length-2)}})},getCurrDays:function(e){var t=e.getMonth();return e.setMonth(t+1),e.setDate(0),e.getDate()},getFirstWeek:function(e){e.getDay();return e.setDate(1),e.getDay()},zeroize:function(e,t){t||(t=2),e=String(e);for(var r=0,n="";r<t-e.length;r++)n+="0";return n+e},getReqParam:function(){for(var e=new Array,t=window.location.search,r=(t=t.substring(1)).split("&"),n=0;n<r.length;n++){var a=r[n].split("=");e[a[0]]=decodeURI(a[1])}return e},getProjectPath:function(){return"/huafei/"},setLocalStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t))},getLocalStorage:function(e){return JSON.parse(localStorage.getItem(e))}},artTemplate={loadTemplate:function(e,t,r,n){var a=this;e?a.getData(e,t,r,n):a.renderTpl(t,r,n)},getData:function(e,t,r,n){var a=this;$.ajax({type:"GET",url:e,data:r,dataType:"json",success:function(e,r,o){200!=o.status||"0000"!=e.code?alert("请求失败"):(initData=e,a.renderTpl(t,initData,n))}})},renderTpl:function(e,t,r){var n=template(e,t);$(".template-main").addClass("animated fadeIn"),$(".template-main").html(n),setTimeout(function(){$(".template-main").removeClass("animated fadeIn")},200),r&&"function"==typeof r&&r()},loadJs:function(e){var t="./dist/pagejs/"+e+".min.js";$.ajax({url:t,dataType:"script",cache:!0})}},animate={animated:function(e,t){t&&"function"==typeof t?e.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t()):console.error("error:animated 请传递_callback:function")},animateText:function(e,t,r,n){e.html(""),e.addClass("animated "+r),e.html(t),setTimeout(function(){e.removeClass("animated "+r)},500),n&&"function"==typeof n&&n()}},hf=function(){var e=["#order/order","#flight/flight","#personal/personal"],t=["#base/404","#base/500","#personal/weixin","#personal/weixin-bound"];return{router:{},appParam:{},appConfig:{beforeUrl:"",currUrl:""},forwardFlag:!0,myDropload:null,init:function(){var e=this;window.addEventListener("load",function(){FastClick.attach(document.body),$("body").on("click",".hf-back",function(){e.back()}),e.loadEven(),e.dropload(),e.initWeixin()},!1)},back:function(){history.back()},loadEven:function(){var e=this;$("body").off("click","footer.index-list ul li[data-ele='artTemplate']").on("click","footer.index-list ul li[data-ele='artTemplate']",function(){$("footer.index-list ul li.active").removeClass("active"),$(this).addClass("active"),e.forward($(this).attr("data-href"))})},forward:function(e,t){var r=this;r.forwardFlag=!0,window.location.hash!==e&&(r.appConfig.loading=$.dialog()),t&&"function"==typeof t&&t(),window.location.href=e},director:function(e){var r=this,n={};$.each(t,function(){var e=this.substring(1);n[e]=function(){r.directorFn(e)}}),$.each(e,function(){var e=this.substring(1);n[e]=function(){r.directorFn(e)}}),r.router=Router(n).configure({notfound:function(){r.forward("#base/404")}}),r.router.init("order/order")},directorFn:function(t){var r=this;if(console.info("#"+t+" -----------0---------- "+r.appConfig.beforeUrl),r.forwardFlag||-1===e.indexOf("#"+t)||-1===e.indexOf(r.appConfig.beforeUrl)||"order/order"===t){if("#order/order"!==r.appConfig.beforeUrl||"personal/weixin"!==t)return $("*[data-ele='artTemplate'][data-href='#"+t+"']").parents("footer.index-list")&&($("footer.index-list ul li[data-ele='artTemplate'].active").removeClass("active"),$("footer.index-list ul li[data-ele='artTemplate'][data-href='#"+t+"']").addClass("active")),artTemplate.loadJs(t),r.appConfig.beforeUrl="#"+t,r.forwardFlag=!1,!1;r.forward("#order/order")}else r.forward("#order/order")},dropload:function(){myDropload=$("#scroll").dropload({autoLoad:!1,scrollArea:window,loadUpFn:function(e){scroll(0,0),setTimeout(function(){var t=window.location.hash;artTemplate.loadJs(t.substring(1)),scroll(0,0),e.resetload()},1e3)},loadDownFn:""})},initWeixin:function(){}}}();window.hf=hf;