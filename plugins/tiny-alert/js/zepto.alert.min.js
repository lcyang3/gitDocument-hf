!function(t,i,s){var n=t(i),o=(t(document),1),e=!1,a=function(i){this.settings=t.extend({},a.defaults,i),this.init()};a.prototype={init:function(){this.create(),this.settings.lock&&this.lock(),isNaN(this.settings.time)||null==this.settings.time||this.time()},create:function(){var i='<div class="rDialog-wrap">'+(null==this.settings.title?"":'<div class="rDialog-header-'+this.settings.title+'"></div>')+'<div class="rDialog-content">'+this.settings.content+'</div><div class="rDialog-footer"></div></div>';this.dialog=t("<div>").addClass("rDialog").css({zIndex:this.settings.zIndex+o++}).html(i).prependTo("body"),t.isFunction(this.settings.ok)&&this.ok(),t.isFunction(this.settings.cancel)&&this.cancel(),this.size(),this.position()},ok:function(){var i=this,s=this.dialog.find(".rDialog-footer");t("<a>",{href:"javascript:;",text:this.settings.okText}).on("click",function(){var t=i.settings.ok();(void 0==t||t)&&i.close()}).addClass("rDialog-ok").prependTo(s)},cancel:function(){var i=this,s=this.dialog.find(".rDialog-footer");t("<a>",{href:"javascript:;",text:this.settings.cancelText}).on("click",function(){var t=i.settings.cancel();(void 0==t||t)&&i.close()}).addClass("rDialog-cancel").appendTo(s)},size:function(){var t=this.dialog.find(".rDialog-content");this.dialog.find(".rDialog-wrap");t.css({width:this.settings.width,height:this.settings.height})},position:function(){var t=this,i=n.width(),s=n.height();this.dialog.css({left:(i-t.dialog.width())/2,top:(s-t.dialog.height())/2+0})},lock:function(){e||(this.lock=t("<div>").css({zIndex:this.settings.zIndex}).addClass("rDialog-mask"),this.lock.appendTo("body"),e=!0)},unLock:function(){this.settings.lock&&e&&(this.lock.remove(),e=!1)},close:function(){this.dialog.remove(),this.unLock(),this.settings.callback&&"function"==typeof this.settings.callback&&this.settings.callback()},time:function(){var t=this;this.closeTimer=setTimeout(function(){t.close()},this.settings.time)}},a.defaults={content:"加载中...",title:"load",width:"auto",height:"auto",ok:null,cancel:null,okText:"确定",cancelText:"取消",time:null,lock:!0,zIndex:9999,callback:""};i.rDialog=t.rDialog=t.dialog=function(t){return new a(t)}}(window.jQuery||window.Zepto,window);